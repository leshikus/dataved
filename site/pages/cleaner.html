<p class="epi"><em>Мы сами ведем блоги и всячески поощряем всех своих слушателей к тому, что нужно это делать. Блог — это средство общения. А общаться надо побольше.</em><br/> <a href="http://www.happy-pm.com/blog/?p=2563">Александр Орлов</a>, известный бизнес тренер</p>

<p class="epi"><em>Все деньги делаются языком.</em><br/> <a href="http://www.blogger.com/profile/06400358221919555785">Александр Башнин</a>, заместитель генерального директора компании</p>

<p>Время, когда техническое открытие могли сделать единицы, прошло. В наши дни для успешного завершения проекта необходимо общаться: координировать усилия, согласовывать ожидания, обосновывать затраты, рисовать перспективы. Пишите, выражайте себя и свои мысли.</p><!-- more -->

<a href="http://picasaweb.google.com/lh/photo/noSiTPZTQilDt956yvuhxUbuTS7qjLWG4I4zr_BMJBY"><img src="http://lh6.ggpht.com/_aUeHSbJneFc/THtqzb_hTYI/AAAAAAAAC5M/FFdD8C0ZQj4/s800/review.png" align="right"/></a><h3>Советы автору</h3>

<p>Следующие советы сделают Ваш текст яснее и понятнее для читателя.</p>

<ul>
<li>Пишите простым языком, структурируйте материал, выделяйте главное. Попытайтесь уложиться в несколько абзацев.</li>
<li><a href="http://images.google.com/images?as_rights=(cc_publicdomain|cc_attribute|cc_sharealike).-(cc_noncommercial|cc_nonderived)&q=keyword">Подберите интересную иллюстрацию</a> по теме статьи.</li>
<li>Пожалуйста, выдерживайте общий стиль сайта: пишите умные, интеллигентные и позитивные статьи, обращайтесь к читателю на &laquo;Вы&raquo;, оформляйте рисунки и таблицы так, как они оформлены в других статьях.</li>
<li>Выложите статью на сайт и попросите ответственного коллегу вычитать её. Исправьте замечания, с которыми согласны. Статья готова&nbsp;&mdash; теперь надо привлечь к ней внимание читателей.</li>
<li>Попросите Вашего друга, которому Ваша тема интересна, дать Вам честный отзыв, какие абзацы текста наиболее унылы и скучны. Отправляйте половину текста под нож, заменяя неинтересные места ссылками на якоря в полном тексте на нашем сайте.</li>
<li>При публикации материалов сайта в других источниках, пожалуйста, указывайте ссылку на <a href="/">dataved.ru</a>.</li>
</ul>

<h3>Система управления содержанием</h3>

<p>Пожалуйста, используйте тестовую версию Блоггера <a href="http://draft.blogger.com/">draft.blogger.com</a>. Иллюстрации хранятся в <a href="http://picasaweb.google.com/corporate.portal.0/OrJONL?authkey=Gv1sRgCJmXoPLu1sjpjgE#">PicasaWeb</a>. Маленькие хитрости:</p>

<img src="http://lh6.googleusercontent.com/-EOUFqz3pvMQ/Tow49rdToyI/AAAAAAAADhk/PcWXgb5zeGo/s400/blogger_settings.png"/>

<ul>
<li>На панели инструментов Блоггера надо отметить флажок об использовании тестовой панели по умолчанию. Затем в режиме редактирования статьи надо открыть <em>Настройки сообщения</em> и установить использование тегов <code>&lt;br /&gt;</code> для разрывов строк.</li>
<li>Для редактирования необходимо использовать редактор HTML. WYSIWYG Блоггера будет Вам добавлять и подменять тэги.</li>
<li>Не редактируйте чужих статей, пока Вы не смогли установить опции включения HTML-редактора и переносов  строк по умолчанию&nbsp;&mdash; Вы просто испортите чужие тексты. Сначала опубликуйте небольшую статью с правильными опциями.</li>
<li>Первую версию статьи должен посылать сам автор, чтобы статья была корректно подписана.</li>
<li>Первую версию надо называть по-английски (используя менее 38 символов), чтобы Блоггер создал читаемый URL для ссылки на статью.</li>
</ul>

<a href="http://picasaweb.google.com/lh/photo/dT3iDSB2ZyDbXl3KVEtuakbuTS7qjLWG4I4zr_BMJBY?feat=embedwebsite"><img src="http://lh5.ggpht.com/_aUeHSbJneFc/TJH5K984-EI/AAAAAAAAC_4/MpM7ORf7RlQ/s800/html.png" align="right" /></a><h3>Правила оформления текста</h3>

<p>Общие правила оформления текста упрощают восприятие и придают статьям профессиональный вид.</p>

<ul>
<li>Заголовок начинается с заглавной буквы.</li>
<li>В конце заголовка и подзаголовков точка не ставится.</li>
<li>Между словами ставится только один пробел. Между знаком препинания и следующим словом (если оно есть) ставится один пробел.</li>
<li>Для обозначения тире в HTML используется <code>&amp;mdash;</code>. Тире не должно переноситься на следующую строку отдельно от текста, за которым оно следует, поэтому рекомендуется приклеивать его тексту неразрывным пробелом <code>&amp;nbsp;</code>. В математических формулах используется минус <code>&amp;minus;</code>.</li>
<li><a href="http://www.artlebedev.ru/kovodstvo/sections/158/">Короткое тире</a> <code>&amp;ndash;</code> без пробелов используется для обозначения числовых промежутков.</li>
<li>Для обозначения кавычек&nbsp;&mdash; <code>&amp;laquo;</code> и <code>&amp;raquo;</code>. Для обозначения буквы <em>ё</em> используется буква <em>ё</em>.</li>
<li>Знаки препинания (точки, запятые, двоеточия, точка с запятой) пишутся слитно с тем словом, после которого они стоят.</li>
<li>Если скобки () находятся в середине предложения, знаки препинания ставятся вне скобок. Если скобка заканчивает предложение, точка ставится также за скобкой. Эти же правила относятся к кавычкам.</li>
<li>Оглавление и <code>&lt;!-- more --&gt;</code> размещаются так, как <a href="http://www.dataved.ru/2009/03/blog-post_30.html">здесь</a>.</li>
<li>Желательно не определять свои стили.</li>
<li>Рекомендуемые HTML тэги и атрибуты: <code id="cleanit-allowed-tags">&lt;a href name&gt;, &lt;caption&gt;, &lt;dl&gt;, &lt;dt&gt;, &lt;dd&gt;, &lt;em&gt;, &lt;h1&gt;, &lt;h2&gt;, &lt;h3&gt;, &lt;h4&gt;, &lt;h5&gt;, &lt;img align src&gt;, &lt;object&gt;, &lt;ol&gt;, &lt;ul&gt; &lt;li&gt;, &lt;p&gt;, &lt;pre&gt;, &lt;big&gt;, &lt;small&gt;, &lt;strike&gt;, &lt;strong&gt;, &lt;sub&gt;, &lt;sup&gt;, &lt;table&gt;, &lt;thead&gt;, &lt;tbody&gt;, &lt;tfoot&gt;, &lt;tr rowspan&gt;, &lt;th&gt;, &lt;td rowspan colspan&gt;</code>.</li>
<li>Только следующие тэги могут быть пустыми: <code id="cleanit-empty-tags">&lt;th&gt;, &lt;td&gt;</code>.</li>
<li>Используйте тэги по смыслу вместо тэгов шрифтов: <code id="cleanit-convert-tags">&lt;i&gt; &rarr; &lt;em&gt;, &lt;b&gt; &rarr; &lt;strong&gt;, &lt;tt&gt; &rarr; &lt;code&gt;</code>.</li>
</ul>

<a name="cleanit"><h3>Автоматическая чистка текста</h3></a>
<p>Чтобы очистить текст в HTML от лишних тэгов и атрибутов, cкопируйте его в эту форму:</p>
<iframe style="width: 100%" id="cleanit-word-input"></iframe> 

<script src="http://www.google.com/jsapi?key=ABQIAAAAFaJe69YXUkm0QwCwCR8_URS-J-3EKMotstQWCYD04pqWnjjCWhQXOE8lkByUEet-SNNNXuIauYsjzw" type="text/javascript"></script>
<!--<script src="http://dataved.googlecode.com/svn/trunk/site/js-lib/clean-text.js" type="text/javascript"></script>-->

<script type="text/javascript"> 
//<![CDATA[
function gebid(id) {
  return document.getElementById('cleanit-' + id)
}

google.setOnLoadCallback(function() {
  var cleaner = new Cleaner(gebid('word-input'), gebid('allowed-tags'), gebid('empty-tags'), gebid('convert-tags'))
  cleaner.init()
})

// -- Library

function esc(str) {
  if (str && str.replace) return str.replace(/>/g, '&gt;').replace(/</g, '&lt;')
  return str
}

function trim(str) {
  return str.replace(/\s*$|^\s*/g, '')
}

var cleanerTagRe = /&lt;(\w+(?:\s+\w+)*)&gt;/g
var cleanerEmptyRe = /^\s*$/
var cleanerHrefRe = /file:\/\/[^#]*/

function parseTags(tags) {
  var a = new Array()
  
  var element
  while ((element = cleanerTagRe.exec(tags)) != null) {
    element = element[1].split(/\s+/)
    var tag = element.shift()
    a[tag] = element
  }
  return a
}

function parseTagPairs(tags) {
  var a = new Array()
  
  var element
  while ((element = cleanerTagRe.exec(tags)) != null) {
    var tag = element[1]
    a[tag] = cleanerTagRe.exec(tags)[1]
  }
  return a
}

function isEmpty(o) {
  return cleanerEmptyRe.test(o.innerHTML) 
}

function hashList(a) {
  var hash = new Array()
  var i

  for (i = 0; i < a.length; i++) hash[a[i]] = 1
  return hash
}

function Cleaner(iframe, allowedTags, emptyTags, convertTags) {
  this.win = iframe.contentWindow
  this.doc = this.win.document

  this.atags = parseTags(allowedTags.innerHTML)
  this.etags = parseTags(emptyTags.innerHTML)
  this.rtags = parseTagPairs(convertTags.innerHTML)

  this.init = function() {
    with (this.doc) {
      open()
      write('<html><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"></head>'
        + '<body></body></html>')
      close()
      this.result = body.innerHTML
      designMode = 'on'
    }

    var self = this
    setInterval(function() {
      self.monitor()
    }, 2000)
  }

  this.monitor = function() {
    with (this.doc) {
      var content = body.innerHTML
      execCommand('selectall', false, null)

      if ((designMode != 'on') || (content == this.result)) return

      designMode = 'off'

//      console.log("initial = " + this.doc.body.innerHTML)
      this.cleanElement(this.doc.body, false)
      this.viewSource()
    }
  }

  this.viewSource = function() {
    with (this.doc) {
      body.innerHTML = '<pre>' + esc(body.innerHTML) + '</pre>'
      this.result = body.innerHTML
      designMode = 'on'
      execCommand('selectall', false, null)
      execCommand('copy', false, null)
    }
  }

  this.cleanElement = function(o, f) {
//    console.log('cleanElement: ' + o.outerHTML.substr(0,5))
    var cn = o.firstChild

    while (c = cn) {
      var cn = c.nextSibling
      switch (c.nodeType) {
        case 1: this.cleanElement(c, true)
          break
        case 2:
          break
        case 3:
        case 5:
        case 6:
          break
        default:
          o.removeChild(c)
      }
    }
    if (!f) return

    var tag = o.tagName.toLowerCase()
//    console.log('->' + o.parentNode.outerHTML)

    // replace tags
    if (this.rtags[tag]) {
      var range = document.createRange()
      range.selectNodeContents(o)

      var parent = o.parentNode
      var ntag = this.rtags[tag]

      if (isEmpty(o) && !this.etags[ntag]) {
//        console.log(tag + ' to be removed, not replaced')
        parent.replaceChild(range.extractContents(), o)
      } else {
        var etag = document.createElement(ntag)
        etag.appendChild(range.extractContents())
        parent.replaceChild(etag, o)
//        console.log(tag + ' replaced with ' + ntag)
      }

      return
    }

//    console.log('->' + tag + '->' + (!this.atags[tag] || (isEmpty(o) && !this.etags[tag])) )
    if (!this.atags[tag] || (isEmpty(o) && !this.etags[tag])) {
//      console.log(tag + ' to be removed')
      var range = document.createRange()
      range.selectNodeContents(o)
      o.parentNode.replaceChild(range.extractContents(), o)
      return
    }

    var a = o.attributes
    if (!a) return

    var i
    var hash = new Array()

    for (i = 0; i < a.length; i++) {
//      console.log(a[i].name + ' from ' + tag + ' found')
      hash[a[i].name] = 1
      if (a[i].name == 'href') {
        a[i].value = a[i].value.replace(cleanerHrefRe, '')
      }
    }

    var aa = this.atags[tag]
    for (i = 0; i < aa.length; i++) {
//      console.log('removing ' + aa[i] + ' from hash')
      delete hash[aa[i]]
    }

    for (attr in hash)
      o.removeAttribute(attr)
  }
}

//]]>
</script>